<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>카카오톡 대화 분석기</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" <!DOCTYPE html>
    <html lang="ko">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>카카오톡 대화 분석기</title>
        <link rel="stylesheet" href="/static/style.css">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap"
            rel="stylesheet">
    </head>

<body>
    <div class="container">
        <header>
            <div class="header-top">
                <h1>💬 카카오톡 대화 분석기 Pro</h1>
            </div>
            <p>대화 내용을 업로드하면 AI가 관계와 감정을 분석해드립니다.</p>
        </header>

        <main>
            <!-- 파일 업로드 섹션 -->
            <section id="upload-section" class="card">
                <div class="drop-zone" id="drop-zone">
                    <div class="icon">📂</div>
                    <p>여기에 카카오톡 내보내기 파일(.txt)을 드래그하거나 클릭하세요</p>
                    <input type="file" id="file-input" accept=".txt" hidden>
                </div>
            </section>

            <!-- 로딩 섹션 -->
            <section id="loading-section" class="hidden">
                <div class="loader"></div>
                <p>AI가 대화를 분석하고 있습니다...<br>(약 10~20초 소요)</p>
            </section>

            <!-- 결과 섹션 -->
            <section id="result-section" class="hidden">
                <!-- 1. 요약 카드 -->
                <div class="card summary-card">
                    <h2>분석 결과</h2>
                    <div class="partner-info">
                        <span class="label">대화 상대:</span>
                        <span class="value" id="partner-name">-</span>
                    </div>
                    <p id="summary-text" class="summary-text">...</p>
                </div>

                <!-- 2. 감정 점수 비교 -->
                <div class="grid-2">
                    <div class="card sentiment-card me">
                        <h3>나의 호감도</h3>
                        <div class="score" id="my-score">0</div>
                        <p class="desc" id="my-desc">-</p>
                    </div>
                    <div class="card sentiment-card partner">
                        <h3>상대방의 호감도</h3>
                        <div class="score" id="partner-score">0</div>
                        <p class="desc" id="partner-desc">-</p>
                    </div>
                </div>

                <!-- 3. 관계 변화 -->
                <div class="card">
                    <h3>💑 관계 변화</h3>
                    <p id="relationship-change" class="text-content">-</p>
                </div>

                <!-- 4. 감정 그래프 -->
                <div class="card">
                    <h3>📈 감정 흐름 그래프</h3>
                    <div class="chart-container">
                        <canvas id="sentimentChart"></canvas>
                    </div>
                </div>

                <!-- 5. 대화 스타일 분석 (Radar Chart) -->
                <div class="card">
                    <h3>📊 대화 스타일 분석</h3>
                    <div class="chart-container">
                        <canvas id="styleRadarChart"></canvas>
                    </div>
                </div>

                <!-- 6. 주요 대화 주제 및 조언 -->
                <div class="grid-2">
                    <div class="card">
                        <h3>🗣️ 주요 대화 주제</h3>
                        <div id="topics-list" class="tags-container">
                            <!-- 태그들이 여기에 들어감 -->
                        </div>
                    </div>
                    <div class="card">
                        <h3>💡 관계 발전 조언</h3>
                        <p id="advice-text" class="text-content">-</p>
                    </div>
                </div>

                <button id="reset-btn" class="btn-secondary">다른 파일 분석하기</button>
            </section>
        </main>
    </div>


    <script src="/static/script.js"></script>
</body>

</html>